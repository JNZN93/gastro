<div class="registration-container">
  <div class="registration-card">
      <div class="registration-header">
          <h1>Account erstellen</h1>
          <p>Füllen Sie die Felder aus, um sich zu registrieren</p>
      </div>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="registration-form">
          <!-- Name Field -->
          <div class="input-group">
              <input type="text" id="name" formControlName="name" placeholder=" " required>
              <label for="name">Name</label>
              <span class="input-border"></span>
              <div *ngIf="isSubmitted && registerForm.controls['name'].errors" class="error-message">
                  <small *ngIf="registerForm.controls['name'].errors['required']">Benutzername ist erforderlich</small>
                  <small *ngIf="registerForm.controls['name'].errors['minlength']">Mindestens 3 Zeichen</small>
              </div>
          </div>

          <!-- Company Field -->
          <div class="input-group">
              <input type="text" id="company" formControlName="company" placeholder=" ">
              <label for="company">Firma (optional)</label>
              <span class="input-border"></span>
              <div *ngIf="isSubmitted && registerForm.controls['company'].errors" class="error-message">
                  <small *ngIf="registerForm.controls['company'].errors['minlength']">Mindestens 3 Zeichen</small>
              </div>
          </div>

          <!-- Email Field -->
          <div class="input-group">
              <input type="email" id="email" formControlName="email" placeholder=" " required>
              <label for="email">E-Mail</label>
              <span class="input-border"></span>
              <div *ngIf="isSubmitted && registerForm.controls['email'].errors" class="error-message">
                  <small *ngIf="registerForm.controls['email'].errors['required']">E-Mail ist erforderlich</small>
                  <small *ngIf="registerForm.controls['email'].errors['email']">Gültige E-Mail-Adresse erforderlich</small>
              </div>
          </div>

      <!-- Passwort Feld -->
<div class="input-group">
  <input [type]="passwordVisible ? 'text' : 'password'" id="password" formControlName="password" placeholder=" " required>
  <label for="password">Passwort</label>
  <span class="input-border"></span>
  <button type="button" class="toggle-password" (click)="togglePassword()">
    <i class="material-icons">{{passwordVisible ? 'visibility_off' : 'visibility'}}</i>
  </button>
  <div *ngIf="isSubmitted && registerForm.controls['password'].errors" class="error-message">
    <small *ngIf="registerForm.controls['password'].errors['required']">Passwort ist erforderlich</small>
    <small *ngIf="registerForm.controls['password'].errors['minlength']">Mindestens 6 Zeichen</small>
  </div>
</div>

        <!-- Passwort bestätigen Feld -->
<div class="input-group">
  <input [type]="confirmPasswordVisible ? 'text' : 'password'" id="confirmPassword" formControlName="confirmPassword" placeholder=" " required>
  <label for="confirmPassword">Passwort bestätigen</label>
  <span class="input-border"></span>
  <button type="button" class="toggle-password" (click)="toggleConfirmPassword()">
    <i class="material-icons">{{confirmPasswordVisible ? 'visibility_off' : 'visibility'}}</i>
  </button>
  <div *ngIf="isSubmitted && registerForm.hasError('mismatch')" class="error-message">
    <small>Passwörter stimmen nicht überein</small>
  </div>
</div>

          <div class="terms">
              <small>Mit der Registrierung akzeptieren Sie unsere <a routerLink="/privacy">Datenschutzbestimmungen</a></small>
          </div>

          <button type="submit" class="submit-btn" [disabled]="registerForm.invalid">
              Registrieren
              <span class="btn-arrow">→</span>
          </button>

          <div *ngIf="errorMessage" class="form-error">
              <i class="material-icons">error_outline</i>
              <span>{{ errorMessage }}</span>
          </div>

          <div class="login-link">
              <p>Bereits registriert? <a routerLink="/login">Zum Login</a></p>
          </div>
      </form>
  </div>
</div>